<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Редагувати табличку</h1>
    <main class="main">
        <svg id="svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="700mm" height="297mm" version="1.1" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd"
            viewBox="0 0 70000 29700"
            xmlns:xlink="http://www.w3.org/1999/xlink">
            <g id="Слой_x0020_1">
            <metadata id="CorelCorpID_0Corel-Layer"/>
            <path id="bg" fill="#96989A" d="M50652 12648l13340 0 0 12339c0,550 -450,1000 -1000,1000l-12340 0 -45275 0c-550,0 -1000,-450 -1000,-1000l0 -11339c0,-550 450,-1000 1000,-1000l42541 0 8855 -8853c51,-51 122,-82 199,-82 78,0 149,31 200,82l2591 2588 0 -1234c0,-165 135,-300 300,-300l1129 0c165,0 300,135 300,300l0 2964 4034 4033 -2 4c61,52 99,129 99,215 0,156 -126,283 -282,283l-1 -1 -17422 1 2734 0z"/>
            <path id="fg_house" fill="#122B79" d="M50652 13348l0 11939 12322 0c174,0 318,-136 318,-300l0 -11639 -12640 0zm500 500l0 10939 11640 0 0 -10939 -11640 0z"/>
            <path id="fg_window" fill="#122B79" d="M56972 7725c1155,0 2091,936 2091,2091l0 2200 -4182 0 0 -2199 0 -1c0,-1155 936,-2091 2091,-2091zm192 3991l0 -3681c899,96 1599,856 1599,1781l0 1900 -1599 0zm-384 -3681l0 3681 -1599 0 0 -1903c1,-923 701,-1682 1599,-1778z"/>
            <path id="fg_street" fill="#122B79" d="M49952 13348l-44575 0c-164,0 -300,136 -300,300l0 11339c0,164 136,300 300,300l44575 0 0 -11939zm-500 500l-43875 0 0 10939 43875 0 0 -10939z"/>
            <text id="text_house" text-anchor="middle" x="57022" y="22940"  fill="#122B79" font-weight="bold" font-size="10320.6px" font-family="Times New Roman, serif">4</text>
            <text id="text_name" text-anchor="middle" x="27501" y="22302"  fill="#122B79" font-weight="bold" font-size="6602.31px" font-family="Times New Roman, serif">Покровська</text>
            <text id="text_street" x="19532" y="16873"  fill="#122B79" font-weight="bold" font-size="4196.4px" font-family="Times New Roman, serif">вулиця</text>
            </g>
    </svg>
        <form>
            <label for="txt1">Назва вулиці:<input type="text" value="Text here" id="txt1"/></label>
            <label for="txt0">Номер будинку:<input type="text" value="Text here" id="txt0"/></label>
            <label for="font_name">Розмір літер вулиця:<input type="range" name="font_name" min="5000" max="10000" step="10" id="font_name"></label>
            <label for="font_house">Розмір літер будинок:<input type="range" name="font_house" min="5000" max="15000" step="10" id="font_house"></label>
            <label for="vert_name">Положення літер вулиця:<input type="range" name="vert_name" min="20000" max="25000" step="10" id="vert_name"></label>
            <label for="vert_house">Положення літер будинок:<input type="range" name="vert_house" min="20000" max="25000" step="10" id="vert_house"></label>
            <label for="fgcolor">Колір тексту:<input type="color" id="fgcolor" name="fg" value="#ffffff"></label>
            <label for="bgcolor">Колір фону:<input type="color" id="bgcolor" name="bg" value="#0000ff"></label>
            <input type="button" value="Оновити" onclick="update()" />
            <input type="button" value="Зберегти" onclick="saveFile()" />
        </form>
    </main>

<script>

const vert_house = document.getElementById("vert_house");
const vert_name = document.getElementById("vert_name");
const font_house = document.getElementById("font_house");
const font_name = document.getElementById("font_name");
const text_name = document.getElementById("text_name");
const text_house = document.getElementById("text_house");
    
font_house.addEventListener("input", (event) => {
  text_house.setAttribute("font-size", event.target.value)
});

font_name.addEventListener("input", (event) => {
  text_name.setAttribute("font-size", event.target.value)
});

vert_house.addEventListener("input", (event) => {
  text_house.setAttribute("y", event.target.value)
});

vert_name.addEventListener("input", (event) => {
  text_name.setAttribute("y", event.target.value)
});


function update() {
    const fgColor = document.getElementById("fgcolor").value;
    const bgColor = document.getElementById("bgcolor").value;
    
    const txt1 = document.getElementById("txt1").value;
    const txt0 = document.getElementById("txt0").value;
    const font_house = document.getElementById("font_house").value;
    const font_name = document.getElementById("font_name").value;
    
    const bg = document.getElementById("bg");
    const fg_house = document.getElementById("fg_house");
    const fg_window = document.getElementById("fg_window");
    const fg_street = document.getElementById("fg_street");
    bg.setAttribute("fill", bgColor);
    fg_house.setAttribute("fill", fgColor);
    fg_window.setAttribute("fill", fgColor);
    fg_street.setAttribute("fill", fgColor);
    text_name.textContent = txt1;
    text_house.textContent = txt0;
    const text_street = document.getElementById("text_street");
    
    text_house.setAttribute("fill", fgColor)
    text_name.setAttribute("fill", fgColor)
    text_street.setAttribute("fill", fgColor)
    
}

function saveFile() {
    var svg = document.getElementById("svg");
    saveSvg(svg, "test11.svg")
}

function saveSvg(svgEl, name) {
    svgEl.setAttribute("xmlns", "http://www.w3.org/2000/svg");
    var svgData = svgEl.outerHTML;
    var preface = '<?xml version="1.0" standalone="no"?>\r\n';
    var svgBlob = new Blob([preface, svgData], {type:"image/svg+xml;charset=utf-8"});
    var svgUrl = URL.createObjectURL(svgBlob);
    var downloadLink = document.createElement("a");
    downloadLink.href = svgUrl;
    downloadLink.download = name;
    document.body.appendChild(downloadLink);
    downloadLink.click();
    document.body.removeChild(downloadLink);
}

</script>
</body>
</html>